{"version":3,"file":"static/js/278.16d873f8.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.jsx","components/api_request.js","pages/Movies/Movies.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {\n  handleMovieSearchList,\n  handleRequestPopular,\n} from 'components/api_request';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst toastStyle = {\n  position: 'top-right',\n  autoClose: 2000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nexport default function MovieList({ request, conponentStat, path }) {\n  // дані які прийшли по запиту\n  const [responce, setResponce] = useState([]);\n  const [error, setError] = useState(null);\n  // ********************************\n  useEffect(() => {\n    if (conponentStat === 'trends') {\n      onLoadMovies();\n    }\n    if (conponentStat === 'filter') {\n      if (request) onRequestLoadMovies(request);\n    }\n  }, [request, conponentStat]);\n\n  // ********************************\n  async function onLoadMovies() {\n    await handleRequestPopular()\n      .then(reqObj => {\n        setResponce(prevResponce => [...reqObj.results]);\n      })\n      .catch(err => {\n        setError(err.message);\n      });\n  }\n  // ********************************\n  async function onRequestLoadMovies(request) {\n    await handleMovieSearchList(request)\n      .then(resp => {\n        if (resp.results.length === 0) {\n          return toast.error(\n            'Didn`t find anything on this request',\n            toastStyle\n          );\n        }\n        setResponce([...resp.results]);\n      })\n      .catch(err => {\n        setError(err.message);\n      });\n  }\n\n  if (error) {\n    return (\n      <div className=\"error-message\">\n        <h2>{error}</h2>\n      </div>\n    );\n  }\n  return (\n    <>\n      <ToastContainer />\n      <ul>\n        {responce.map(film => (\n          <li key={film.id}>\n            <NavLink\n              to={\n                conponentStat === 'trends' ? `/movies/${film.id}` : `${film.id}`\n              }\n              state={{ from: path }}\n            >\n              {film.title ? film.title : film.name}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '7f73521c2f89ba4f40b3583136c2bf19';\nconst url = 'https://api.themoviedb.org/3/';\n\n// ****************************************************************\nfunction returnCustomError(reject) {\n  const errMessage = Promise.reject(\n    new Error(`Wrong request!! ${reject.message}, nothing was found. `)\n  );\n  return errMessage;\n}\n// #################################################################\nexport const handleRequestPopular = async () => {\n  try {\n    const request = await axios.get(`${url}trending/all/day`, {\n      params: { api_key: API_KEY, page: 1 },\n    });\n    return request.data;\n  } catch (error) {\n    return returnCustomError(error);\n  }\n};\n\n// #################################################################\nexport const handleRequestById = async id => {\n  // Get the top level details of a movie by ID.\n  try {\n    const request = await axios.get(`${url}movie/${id}`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return request.data;\n  } catch (error) {\n    return returnCustomError(error);\n  }\n  // // ********************************\n};\n\n// #################################################################\nexport const handleMovieSearchList = async fTitle => {\n  // Search for movies by their original, translated and alternative titles.\n  const BASE_URL = `${url}search/movie`;\n\n  const params = {\n    api_key: API_KEY,\n    query: `${fTitle}`,\n    page: 1,\n  };\n  try {\n    const request = await axios.get(BASE_URL, { params });\n    return request.data;\n  } catch (error) {\n    return returnCustomError(error);\n  }\n  // ********************************\n};\n\n// #################################################################\nexport const handleMovieReview = async movieId => {\n  // https://api.themoviedb.org/3/movie/{movie_id}/reviews\n  try {\n    const request = await axios.get(`${url}movie/${movieId}/reviews`, {\n      params: { api_key: API_KEY },\n    });\n    return request.data;\n  } catch (error) {\n    return returnCustomError(error);\n  }\n};\n\n// #################################################################\nexport const handleMovieCredits = async movieId => {\n  // https://api.themoviedb.org/3/movie/{movie_id}/credits\n  try {\n    const request = await axios.get(`${url}movie/${movieId}/credits`, {\n      params: { api_key: API_KEY },\n    });\n    return request.data;\n  } catch (error) {\n    return returnCustomError(error);\n  }\n};\n","import { useLocation, useSearchParams } from 'react-router-dom';\nimport MovieList from 'components/MovieList/MovieList';\n\nexport default function Movies() {\n  // робота з даними інпуту\n  const [filter, setFilter] = useSearchParams();\n  const filterData = filter.get('movie');\n  const status = 'filter';\n  const location = useLocation();\n  // ********************************\n  function onSubmitForm(evt) {\n    evt.preventDefault();\n    const form = evt.currentTarget;\n    const inputData = form.elements.movieInput.value;\n\n    const params = inputData === '' ? {} : { movie: inputData.toLowerCase() };\n    setFilter(params);\n    // setReceiveData(true);\n    form.reset();\n  }\n\n  // ********************************\n  return (\n    <>\n      <form onSubmit={onSubmitForm}>\n        <h1>Movie searcing page</h1>\n        <input\n          type=\"text\"\n          name=\"movieInput\"\n          placeholder=\"Enter title of film\"\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <MovieList request={filterData} conponentStat={status} path={location} />\n    </>\n  );\n}\n"],"names":["toastStyle","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","MovieList","request","conponentStat","path","useState","responce","setResponce","error","setError","handleRequestPopular","then","reqObj","prevResponce","results","catch","err","message","handleMovieSearchList","resp","length","toast","useEffect","onLoadMovies","onRequestLoadMovies","className","map","film","to","id","state","from","title","name","API_KEY","url","returnCustomError","reject","Promise","Error","axios","params","api_key","page","data","handleRequestById","fTitle","BASE_URL","query","handleMovieReview","movieId","handleMovieCredits","Movies","useSearchParams","filter","setFilter","filterData","get","location","useLocation","onSubmit","evt","preventDefault","form","currentTarget","inputData","elements","movieInput","value","movie","toLowerCase","reset","type","placeholder"],"sourceRoot":""}