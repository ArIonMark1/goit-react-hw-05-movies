"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[278],{126:function(t,e,r){r.d(e,{Z:function(){return v}});var n=r(982),a=r(861),u=r(885),c=r(757),s=r.n(c),i=r(791),o=r(731),p=r(644),f=r(174),l=(r(462),r(184)),h={position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"};function v(t){var e=t.request,r=t.conponentStat,c=t.path,v=(0,i.useState)([]),d=(0,u.Z)(v,2),m=d[0],g=d[1],x=(0,i.useState)(null),w=(0,u.Z)(x,2),b=w[0],y=w[1];function Z(){return(Z=(0,a.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.Eo)().then((function(t){g((function(e){return(0,n.Z)(t.results)}))})).catch((function(t){y(t.message)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return k=(0,a.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.H_)(e).then((function(t){if(0===t.results.length)return f.Am.error("Didn`t find anything on this request",h);g((0,n.Z)(t.results))})).catch((function(t){y(t.message)}));case 2:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}return(0,i.useEffect)((function(){"trends"===r&&function(){Z.apply(this,arguments)}(),"filter"===r&&e&&function(t){k.apply(this,arguments)}(e)}),[e,r]),b?(0,l.jsx)("div",{className:"error-message",children:(0,l.jsx)("h2",{children:b})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Ix,{}),(0,l.jsx)("ul",{children:m.map((function(t){return(0,l.jsx)("li",{children:(0,l.jsx)(o.OL,{to:"trends"===r?"/movies/".concat(t.id):"".concat(t.id),state:{from:c},children:t.title?t.title:t.name})},t.id)}))})]})}},644:function(t,e,r){r.d(e,{Ag:function(){return f},Eo:function(){return p},H_:function(){return l},T2:function(){return h},a4:function(){return v}});var n=r(861),a=r(757),u=r.n(a),c=r(243),s="7f73521c2f89ba4f40b3583136c2bf19",i="https://api.themoviedb.org/3/";function o(t){return Promise.reject(new Error("Wrong request!! ".concat(t.message,", nothing was found. ")))}var p=function(){var t=(0,n.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(i,"trending/all/day"),{params:{api_key:s,page:1}});case 3:return e=t.sent,t.abrupt("return",e.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",o(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(u().mark((function t(e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(i,"movie/").concat(e),{params:{api_key:s}});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",o(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(i,"search/movie"),n={api_key:s,query:"".concat(e),page:1},t.prev=2,t.next=5,c.Z.get(r,{params:n});case 5:return a=t.sent,t.abrupt("return",a.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",o(t.t0));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(u().mark((function t(e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(i,"movie/").concat(e,"/reviews"),{params:{api_key:s}});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",o(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,n.Z)(u().mark((function t(e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(i,"movie/").concat(e,"/credits"),{params:{api_key:s}});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",o(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},278:function(t,e,r){r.r(e),r.d(e,{default:function(){return i}});var n=r(885),a=r(731),u=r(689),c=r(126),s=r(184);function i(){var t=(0,a.lr)(),e=(0,n.Z)(t,2),r=e[0],i=e[1],o=r.get("movie"),p=(0,u.TH)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.currentTarget,r=e.elements.movieInput.value,n=""===r?{}:{movie:r.toLowerCase()};i(n),e.reset()},children:[(0,s.jsx)("h1",{children:"Movie searcing page"}),(0,s.jsx)("input",{type:"text",name:"movieInput",placeholder:"Enter title of film"}),(0,s.jsx)("button",{type:"submit",children:"Search"})]}),(0,s.jsx)(c.Z,{request:o,conponentStat:"filter",path:p})]})}}}]);
//# sourceMappingURL=278.16d873f8.chunk.js.map